## Voltage Ladder
A voltage ladder is just a series resistor network that allows for the voltage to be split into a equal splices of voltages. For example, if you have 9 resistors that are in series and all have the same resistance then you can use voltage division to calculate the how much voltage will be in between each resistor.

![[resistor ladder.png]]
To find the voltage steps(or voltage resolution) all you need to do is do is $$v_{res}=\frac{V_{ref}}{R_{n}}$$where $V_{ref}$ is the reference voltage(i.e. 5V in the picture) and $R_{n}$ is the total number of resistors in the voltage ladder. So for the picture above, you would do $\frac{5}{9}$ = $555.56mV$.Which means in between each resistor is 555 mV difference. so that means in the picture above $R_{9}$ would have a voltage of 555.56mV, $R_{8}$ has 1.11V. $R_{7}$ has 1.66V,etc, until you reach $v_{ref} - v_{res}$ which in the picture above is 5 - .555 = 4.444V. 
## Comparator
each node in between resistors leads to a comparator and serves as a reference voltage for the comparator. The other input to the comparator is the actual signal to be sampled. Note that comparators are similar to op amps and the particular simulation I used to create the flash converter uses an op-amp instead of a comparator(couldn't find a comparator sim model). However this becomes handy as the equations to understand what is happening so remember in [[OP-amp]] that open gain  is infinite and the general equation is $V_{out} = A_{o}(V_{+} - V_{-})$ there two equations describe how the op amp can act as a comparator  when you subtract the inputs from each other you get a small difference that then gets amplified by the open gain to either a really high positive value. the open gain is what allows the op amp to act like a comparator. 
![[Flash converter circuit.png]]
now looking at the circuit we can se each voltage referenced at a resistor is then placed in a $v_{-}$ input of a comparator/op-amp and  the signal to be sampled is placed in the $v_{+}$ input of all the comparators/op-amp. The idea is to compare the signals voltage level with the different voltage references gained from the voltage ladder. If the voltage of the signal is greater than the voltage referenced voltage that comparator will output a **High** else it will output a **Low**. so for example, if the signals at a certain time was 1.2V and we check U7(second to last) comparator we can use the general op-amp equation to figure out the output of the OP-amp
$$V_{Out} = \infty (1.2 - 1.111)$$ 
 which gives
$$V_{out} = \infty$$
but in reality since the op amp is limited to the power rails it will output a voltage close to the power rails. In this case, the positive power rail as that is the closes to the voltage the op-amp is trying to output.so as the voltage goes up more and more of the comparators will output a **HIGH** voltage level and as the signal goes down it the comparators will start to output **LOW**. The picture below demonstrates each comparator output compared to the signal. As the the signal goes through time the comparators take turn going **HIGH** and **LOW** that is what the mixed color of squares are. They are the timings for how long each Comparator is one and off and are related to the signals frequency and amplitude. 

![[Flash converter sim.png]]
## Priority encoder
The simulation doesn't have a priority encoder but what it does is it takes the seven outputs of the comparators and turns them into a binary output. This is known as [[output code TODO]].  Now its important that a priority encoder is used rather then just a normal encoder. A normal encoder takes in $2^n$ inputs and outputs $n$ where is output is the binary representation of the inputs. A priority encoder however, has priority for all of its inputs. which means that the input pin that is set **HIGH** that has the highest priority will be what the output will represent. This means that inputs are typically labeled with numbers(i.e D1,D2,D3,D3,...,Dn) depending on how the priority encoder is coded, either the highest n value or the lowest n value will have the highest priority. From there, the encoder will output the binary equivalent of the inputs with the highest priority and the output will represent the binary equivalent of the number that is designated to the pin. The picture below provides a truth table to the priority encoder.
![[Priority encoder truth table(need a folder to store image).png]]
![[Priority encoder truth table(need a folder to store image).png]]
